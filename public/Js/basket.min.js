//déclaration variables
const formulaireElt = document.getElementById("section-formulaire");
const totalPriceElt = document.getElementById("total-price");
const productName = document.getElementById("articleName");
const priceElt = document.getElementById("articlePrice");
const quantityElt = document.getElementById("articleQty");
const basketELt = document.getElementById("container-recapitulatif");
console.log("basketElt:" + basketELt);

const positionElt = document.getElementById("articles");
console.log(positionElt);

const validation = document.getElementById("validate");
//--------affichage produit selectionner

//Déclaration de la variable "basket"dans laquelle on met les key et les values.
let basket = JSON.parse(window.localStorage.getItem("products"));

console.log("basket:" + basket);
pageBasket();
function pageBasket() {
  // si le panier est vide
  if (basket === null) {
    const panierVide = `<main id="container-products-basket"><div class="empty-basket">Le panier est vide !</div></main>`;
    positionElt.innerHTML = panierVide;
    console.log("panierVide");
  } else {
    //si le panier n'est pas vide: afficher les produits dans le LS
    let structureProductBasket = [];
    console.log("structureProductBasket:" + structureProductBasket);

    //faire boucle for pour parcourir mon LS et recupérer les objets

    for (k = 0; k < basket.length; k++) {
      console.log(k);
      structureProductBasket += `
  
         <div class="quantity"> Qauntité - ${basket[k].quantity}</div>
      <div class="name">  ${basket[k].article}</div>
    
 
      <div class="price">${basket[k].price} € - <button class="btn-delete">Supprimer</button></div>
     



`;
    }

    if (k == basket.length) {
      // injection html dans la page panier
      positionElt.innerHTML = structureProductBasket;
      console.log(structureProductBasket);
    }
  }

  //-----------Fin de l'affichage des produits du panier-----------------------------------

  //******************Gestion du bouton supprimer l'article*******************************************/

  //---------------Sélection des références de tous les boutons btn-supprimer----------------------------------------

  const btnDelete = document.querySelectorAll(".btn-delete");
  console.log(btnDelete);

  // Initialisation des variables du formulaire

  const firstNameElt = document.getElementById("firstName");
  console.log(firstNameElt);

  const lastNameElt = document.getElementById("lastName");
  console.log(lastNameElt);

  const emailElt = document.getElementById("email");
  console.log(emailElt);

  const numberPhoneElt = document.getElementById("telephoneNumber");
  console.log(numberPhoneElt);

  const addressElt = document.getElementById("address");
  console.log(addressElt);

  const cityElt = document.getElementById("city");
  console.log(cityElt);
  const btnOrderElt = document.getElementById("btn-order");
  console.log(btnOrderElt);

  // Récupérer les données du formulaire

  btnOrderElt.setItem("Nom", document.getElementById("firstname").value);
  console.log(document.getElementById("firstname"));

  // -------  Envoi de la requête POST au back-end --------
  // Création de l'entête de la requête
}
