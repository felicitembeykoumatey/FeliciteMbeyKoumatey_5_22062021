//déclaration variables
const formulaireElt = document.getElementById("section-formulaire");
const totalPriceElt = document.getElementById("total-price");
const productName = document.getElementById("articleName");
const priceElt = document.getElementById("articlePrice");
const quantityElt = document.getElementById("articleQty");
const cart = document.getElementById("container-recapitulatif");
console.log(cart);
let basket = JSON.parse(localStorage.getItem("products"));

//--------affichage produit selectionner
//selection de la class ou je vais injecter le code html

const positionElt = document.getElementById("articles");

const validation = document.getElementById("validate");

//Récupération données stockées dans le LS
fetch(`http://localhost:3000/api/furniture`)
  .then(function (response) {
    return response.json();
  })
  .catch((e) => {
    document.getElementById("container").innerHTML =
      "oups! Lancez le serveur local au Port 3000 !";
  })
  .then(function (item) {
    //Déclaration de la variable "basket"dans laquelle on met les key et les values.
    let basket = [];

    console.log(basket);
    // si le panier est vide
    if (basket === null) {
      console.log("je suis vide");
      const panierVide = `<main class="container-produits-panier"><div>Le panier est vide !</div></main>`;
      positionElt.innerHTML = panierVide;
    } else {
      //si le panier n'est pas vide: afficher les produits dans le LS
      let structureProduitPanier = [];

      console.log("je ne suis pas vide");

      //faire boucle for pour parcourir mon LS et recupérer les objets

      for (
        let productBasket = 0;
        productBasket < basket.length;
        productBasket++
      ) {
        structureProduitPanier += `
      <div id="articles">
      <div> quantité ${basket.name}</div>
      <div> quantité ${basket.id}</div>
      <div> quantité ${basket.quantity}</div>
      <div> quantité ${basket.price}</div>
      
      
      </div>


`;
      }
    }
  });
